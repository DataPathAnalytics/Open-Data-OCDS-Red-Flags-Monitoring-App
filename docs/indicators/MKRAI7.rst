##############################################################
MKRAI7. Тендерные предложения на лот сильно (на 30%) отличаются.
##############################################################

***************
Суть индикатора
***************

Индикатор исследует случаи, когда поставщики (подрядчики) подают на один и тот же лот сильна разные по цене предложения.

****
Риск
****
Риск демпинга со стороны участника(ов). 

*******************************
Нарушение норм/принципов закона
*******************************

Индикатор сигнализирует о возможном демпинге со стороны участника. В случае демпинга закупающая организация может отклонить конкурсную заявку на основе статьи 29 пункта 7 Закона КР "О государственных закупках".

***********************************
Основание для разработки индикатора
***********************************

*******************************
Методология расчета индикатора.
*******************************

Уровень расчета
===============
Индикатор расcчитывается на уровне *конкурса*.

Источники данных для расчета
============================

Для расчета индикатора используются следующие источники данных:

- API системы государственных закупок в OCDS формате


Типы конкурсов
==============

Индикатор рассчитывается для следующих типов конкурсов:

- одноэтапный конкурс;
- двухэтапный конкурс;
- упрощенный конкурс;
- конкурс на понижение цены.


Статусы конкурсов
-----------------

Индикатор расчитывается для процедур, которые:

- находятся в статусе ``bidsOpened``
-- находятся в статусе ``evaluationResultsPending``


Частота расчета
===============

Если выполнены все условия для активации расчета индикатора, он рассчитывается каждый раз после изменений в JSON-документе конкурса. Также индикатор расчитывается один раз в сутки, если выполнены все условия для его расчета.

Поля для расчета
================

Для расчета индикатора используются следующие поля API модуля системы гос. закупок:

- ``data.tender.lots.id``
- ``data.tender.lots.status``
- ``data.bids.relatedLots.id``
- ``data.bids.relatedLots.amount``
- ``data.bids.status``


Формула расчета
===============

1. Выбираем только активные лоты - ``data.tender.lots.status='active'``. Для каждого такого лота конкурса определяем его идентификатор ``data.tender.lots.id``.

2. Находим предложения поставщиков (подрядчиков) на данный лот ``data.bids.relatedLots.id = data.tender.lots.id``.

3. Находим стоимость каждого предложения для данного лота ``data.bids.relatedLots.amount``.

4. Сравниваем между собой минимальное и максимальное по сумме предложения. Если минимальное меньше максимального на 30% и больше, индикатор принимает значение ``1``, в противном случае индикатор принимает значение ``0``.

Факторы, которые влияют на корректное срабатывание индикатора
=============================================================

Индикатор может срабатывать неправильнов случае, когда представитель закупающей организации неправильно ввел номер стоимость предложения.
